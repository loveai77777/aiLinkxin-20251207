# 项目结构梳理

## 📁 项目目录树状图

```
项目根目录/
├── app/                    # 所有页面和路由都在这里
│   ├── page.tsx           # 首页
│   ├── layout.tsx         # 全局布局（页头、页脚）
│   ├── globals.css        # 全局样式
│   ├── about/             # 关于页面
│   ├── contact/           # 联系页面
│   ├── tools/             # 工具导航页
│   ├── solutions/         # 服务相关页面
│   │   ├── page.tsx      # 服务列表页
│   │   └── [slug]/       # 动态路由：服务详情页
│   ├── playbook/          # 文章相关页面
│   │   ├── page.tsx      # 文章列表页
│   │   └── [slug]/       # 动态路由：文章详情页
│   └── api/              # 后端接口
│       ├── lead/         # 线索收集接口
│       └── ai-chat/      # AI聊天接口
├── components/           # 可复用的组件（就像积木块）
├── content/             # 内容数据（文章、服务配置）
├── lib/                 # 工具函数库（辅助功能）
├── public/              # 静态资源（图片、文件）
└── [配置文件]           # package.json、tsconfig.json 等
```

---

## 📂 各目录详细说明

### 1. `app/` - 页面和路由核心目录

**作用：** 这里是整个网站的页面和路由中枢。每个文件夹代表一个页面路径（URL），`page.tsx` 文件就是实际显示的页面内容。

**特点：**
- 文件夹名 = 网址路径，比如 `app/about/` 对应网址 `/about`
- 每个文件夹里的 `page.tsx` 就是页面内容
- `layout.tsx` 是全局布局模板（所有页面都会套用这个模板）

**特殊文件说明：**
- `page.tsx` → 这是首页（对应网址 `/`）
- `layout.tsx` → 全局布局，包含页头和页脚
- `not-found.tsx` → 404 错误页面
- `sitemap.ts` → 自动生成网站地图（给搜索引擎看）
- `robots.ts` → 自动生成爬虫规则文件

---

### 2. `components/` - 组件积木仓库

**作用：** 存放可重复使用的页面组件。就像乐高积木一样，这些组件可以在不同页面中组装使用。

**包含的组件：**
- `Layout/` → 布局组件（页头、页脚）
- `LeadForm.tsx` → 线索收集表单
- `CTASection.tsx` → 引导按钮区块
- `AppImage.tsx` → 统一的图片组件（自动优化）
- `MarkdownContent.tsx` → Markdown 内容渲染器

---

### 3. `content/` - 内容数据库

**作用：** 存放网站的实际内容数据。包括文章内容和服务配置，这些内容可以被页面读取和展示。

**包含内容：**
- `playbook/` → 存放所有文章的 MDX 文件（每篇文章一个文件）
- `services.ts` → 服务列表的配置数据（用代码定义）

**举个例子：**
- `content/playbook/ai-frontdesk-for-spa.mdx` → 这是一篇具体文章
- `content/services.ts` → 这里定义了有哪些服务项目

---

### 4. `lib/` - 工具函数库

**作用：** 存放辅助功能函数。这些函数被各个页面和组件调用，提供通用的能力。

**包含的工具：**
- `mdx.ts` → 读取和处理文章文件的函数
- `seo.ts` → 生成 SEO（搜索引擎优化）信息的函数

**通俗理解：** 就像工具箱，页面需要什么功能就来这里拿工具。

---

### 5. `public/` - 静态资源仓库

**作用：** 存放网站需要用到的静态文件，比如图片、图标、PDF 文件等。这些文件可以直接通过网址访问。

**使用方式：**
- 把图片放到 `public/images/logo.png`
- 访问时用 `/images/logo.png` 即可

---

### 6. `app/api/` - 后端接口目录

**作用：** 虽然这是 Next.js 项目，但也可以在这里写后端接口代码。这些接口可以被前端页面调用，也可以被外部系统调用。

**包含的接口：**
- `api/lead/` → 处理表单提交（比如用户提交咨询信息）
- `api/ai-chat/` → 处理 AI 聊天请求

**通俗理解：** 这是网站的“后台服务”，处理数据提交、转发请求等操作。

---

## 🎯 Next.js App Router 路由原理（通俗版）

### 什么是 App Router？

App Router 是 Next.js 14 推出的新路由方式，它的核心思想是：**文件夹结构 = 网址路径**。

### 工作原理（用简单例子说明）

#### 例子 1：创建首页

```
app/
└── page.tsx    ← 这个文件就是首页
```

**结果：** 访问 `http://localhost:3000/` 就能看到 `page.tsx` 的内容

---

#### 例子 2：创建一个关于页面

```
app/
├── page.tsx           ← 首页
└── about/
    └── page.tsx      ← 关于页面
```

**结果：** 
- `http://localhost:3000/` → 显示首页
- `http://localhost:3000/about` → 显示关于页面

**规律：** `app/about/page.tsx` 对应的网址就是 `/about`

---

#### 例子 3：动态路由（可变参数）

```
app/
└── solutions/
    ├── page.tsx          ← 服务列表页（/solutions）
    └── [slug]/
        └── page.tsx      ← 服务详情页（/solutions/xxx）
```

**说明：**
- `[slug]` 是动态参数，可以匹配任意值
- `page.tsx` → `/solutions`（服务列表）
- `[slug]/page.tsx` → `/solutions/ai-frontdesk` 或 `/solutions/其他名称`（服务详情）

**通俗理解：** `[slug]` 就像一个占位符，用户访问 `/solutions/任意名称` 时，程序会把"任意名称"传给页面，页面根据这个名称显示对应的内容。

---

### 特殊文件说明

#### `layout.tsx` - 布局模板

```
app/
├── layout.tsx    ← 全局布局（所有页面都会套用）
├── page.tsx      ← 首页
└── about/
    └── page.tsx  ← 关于页面
```

**作用：** `layout.tsx` 像一个画框，所有页面内容都会放在这个画框里。通常在这里放置页头、页脚等公共部分。

---

#### `not-found.tsx` - 404 页面

当用户访问不存在的页面时，Next.js 会自动显示这个文件的内容。

---

### 路由规则总结

| 文件路径 | 对应的网址 | 说明 |
|---------|-----------|------|
| `app/page.tsx` | `/` | 首页 |
| `app/about/page.tsx` | `/about` | 关于页面 |
| `app/solutions/page.tsx` | `/solutions` | 服务列表页 |
| `app/solutions/[slug]/page.tsx` | `/solutions/xxx` | 服务详情页（xxx 是动态值） |
| `app/api/lead/route.ts` | `/api/lead` | 后端接口（不是页面） |

---

### 与传统路由的区别

**传统方式（比如用 React Router）：**
- 需要手动配置路由表
- 路由配置和文件结构是分开的

**App Router 方式：**
- 文件结构 = 路由结构
- 不需要手动配置，Next.js 自动识别
- 更直观，更容易维护

---

## 💡 关键理解点

1. **文件夹 = 路径**：`app/about/` 就是网址 `/about`
2. **page.tsx = 页面内容**：每个路由文件夹里必须有 `page.tsx` 才会显示页面
3. **layout.tsx = 页面模板**：包裹所有页面的公共框架
4. **[slug] = 动态参数**：可以匹配任意值的占位符
5. **api/ = 后端接口**：不是页面，而是处理数据的接口

---

## 🎓 给初学者的建议

1. **先理解基础路由**：先看看 `app/page.tsx`（首页）和 `app/about/page.tsx`（关于页面），理解文件夹和网址的关系。

2. **再理解动态路由**：看看 `app/solutions/[slug]/page.tsx`，理解 `[slug]` 是怎么传递参数的。

3. **最后理解布局**：看看 `app/layout.tsx`，理解它是怎么包裹所有页面的。

4. **实践**：尝试创建新文件夹和新页面，看看网址是怎么变化的。

5. **多看文档**：Next.js 官方文档有更详细的说明，遇到问题可以去查。

---

*这个梳理基于 Next.js 14 App Router 的实际项目结构，所有说明都尽量用通俗语言，方便理解。*
























