# ğŸ” æœåŠ¡å™¨éƒ¨ç½²é—®é¢˜æ’æŸ¥

## é—®é¢˜ï¼šæ‰¾ä¸åˆ° deploy.sh è„šæœ¬

### è§£å†³æ–¹æ³• 1ï¼šç¡®ä¿å·²å…‹éš†æœ€æ–°ä»£ç 

åœ¨æœåŠ¡å™¨ä¸Šè¿è¡Œï¼š

```bash
cd /var/www/ailinkxin

# æ£€æŸ¥æ˜¯å¦åœ¨æ­£ç¡®çš„ç›®å½•
pwd

# æ£€æŸ¥æ–‡ä»¶æ˜¯å¦å­˜åœ¨
ls -la deploy.sh

# å¦‚æœæ–‡ä»¶ä¸å­˜åœ¨ï¼Œæ‹‰å–æœ€æ–°ä»£ç 
git pull origin main

# å†æ¬¡æ£€æŸ¥
ls -la deploy.sh
```

### è§£å†³æ–¹æ³• 2ï¼šæ‰‹åŠ¨åˆ›å»ºéƒ¨ç½²è„šæœ¬

å¦‚æœè„šæœ¬æ–‡ä»¶ä¸å­˜åœ¨ï¼Œå¯ä»¥æ‰‹åŠ¨åˆ›å»ºï¼š

```bash
cd /var/www/ailinkxin
nano deploy.sh
```

ç„¶åå¤åˆ¶ä»¥ä¸‹å†…å®¹ï¼š

```bash
#!/bin/bash

set -e

echo "ğŸš€ å¼€å§‹éƒ¨ç½² AILINKXIN ç½‘ç«™..."

cd /var/www/ailinkxin

echo "ğŸ“¥ æ‹‰å–æœ€æ–°ä»£ç ..."
git fetch origin
git pull origin main

echo "ğŸ“¦ å®‰è£…ä¾èµ–..."
npm install

echo "ğŸ”¨ æ„å»ºé¡¹ç›®..."
npm run build

echo "ğŸ”„ é‡å¯ PM2 åº”ç”¨..."
pm2 restart ailinkxin || pm2 start ecosystem.config.js

echo "âœ… éƒ¨ç½²å®Œæˆï¼"
pm2 status
```

ä¿å­˜æ–‡ä»¶ï¼ˆ`Ctrl+O` â†’ `Enter` â†’ `Ctrl+X`ï¼‰ï¼Œç„¶åï¼š

```bash
# æ·»åŠ æ‰§è¡Œæƒé™
chmod +x deploy.sh

# è¿è¡Œè„šæœ¬
./deploy.sh
```

### è§£å†³æ–¹æ³• 3ï¼šç›´æ¥è¿è¡Œå‘½ä»¤ï¼ˆå¦‚æœè„šæœ¬ä»ä¸å¯ç”¨ï¼‰

å¦‚æœè„šæœ¬ä»æœ‰é—®é¢˜ï¼Œå¯ä»¥ç›´æ¥è¿è¡Œå‘½ä»¤ï¼š

```bash
cd /var/www/ailinkxin

# æ‹‰å–æœ€æ–°ä»£ç 
git pull origin main

# å®‰è£…ä¾èµ–
npm install

# æ„å»ºé¡¹ç›®
npm run build

# é‡å¯åº”ç”¨
pm2 restart ailinkxin
```

